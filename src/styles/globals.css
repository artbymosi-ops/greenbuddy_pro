/* ===== Fonts (prémiový feeling) ===== */
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=Fraunces:opsz,wght@9..144,700&display=swap');

/* ===== Theme – Mosi palette (svetlý, zelený) ===== */
:root {
  --mosi-bg: #EAF6E3;
  --mosi-surface: #F4FAEE;
  --mosi-text: #132015;

  --mosi-green:   #2F6E3D;
  --mosi-green-2: #7FBF6B;
  --mosi-green-3: #4F9156;

  --mosi-accent:  #2F6E3D;
  --mosi-accent-2:#7FBF6B;

  --terracotta:   #C56A3C;

  --radius: 18px;
  --shadow: 0 8px 24px rgba(29,54,44,.12);
}

/* ===== Base / Reset ===== */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; background:var(--mosi-bg); color:var(--mosi-text); }
body { font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.45; }
a { color: inherit; text-decoration: none; }
button { font: inherit; cursor: pointer; }

/* ===== Typography ===== */
h1, h2, h3, .display { font-family: Fraunces, serif; letter-spacing: .2px; }
h1 { font-size: 32px; margin: 0 0 8px; }
h2 { font-size: 24px; margin: 0 0 6px; }
h3 { font-size: 18px; margin: 0 0 4px; }
.title { font-weight: 800; font-size: 22px; margin: 0 0 6px; }
.subtitle { color: #5b6c60; margin: .25rem 0; }

/* ===== Layout ===== */
.container { max-width: 1100px; margin: 0 auto; padding: 16px; }
.page { min-height: 60vh; }
.card { background: var(--mosi-surface); border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow); border: 1px solid rgba(47,110,61,.08); }

/* ===== Buttons ===== */
.btn {
  --bg: var(--mosi-accent); --fg: #fff; --bd: transparent;
  background: var(--bg); color: var(--fg); border: 1px solid var(--bd);
  padding: 12px 16px; border-radius: 14px; font-weight: 800; letter-spacing: .2px;
  box-shadow: 0 6px 18px rgba(47,125,50,.18);
  display: inline-flex; align-items: center; gap: 10px;
  transition: transform .08s ease, filter .2s ease;
}
.btn:hover { transform: translateY(-1px); filter: brightness(1.03); }
.btn:active { transform: translateY(0); }
.btn.ghost { --bg: #fff; --fg: var(--mosi-accent); --bd: var(--mosi-accent); box-shadow: none; }
.btn.subtle { --bg: #f3f7f4; --fg: #184a2d; --bd: #d5e4d7; box-shadow: none; }
.btn.danger { --bg: #c0392b; }

/* Full width helper */
.btn.full { width: 100%; justify-content: center; }

/* ===== Inputs ===== */
.input, textarea, select {
  background: #fff; color: #111;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px; padding: 12px 14px; width: 100%;
}
.input::placeholder, textarea::placeholder { color: #6b7280; }
.label { font-weight: 700; color: #18382b; margin-bottom: 6px; display: inline-block; }

/* ===== Header + Hamburger Drawer ===== */
.site-header {
  position: sticky; top: 0; z-index: 50;
  background: rgba(234,246,227,.85);
  backdrop-filter: saturate(160%) blur(10px);
  border-bottom: 1px solid #dfeae1;
}
.header-row { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; }
.brand { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 20px; letter-spacing: .3px; }
.mascot { font-size: 22px; }
.mascot.big { font-size: 30px; }
.h-right { display: flex; align-items: center; gap: 8px; }

.hamb {
  width: 46px; height: 40px; border-radius: 12px; border: 1px solid #cbdacb; background: #fff;
  display: flex; flex-direction: column; justify-content: center; gap: 6px; padding: 0 10px;
  transition: .25s ease; box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.hamb:hover { transform: translateY(-1px); }
.hamb span { height: 2px; background: #2d4739; border-radius: 2px; transition: .25s; }
.hamb.is-open span:nth-child(1){ transform: translateY(8px) rotate(45deg); }
.hamb.is-open span:nth-child(2){ opacity: 0; }
.hamb.is-open span:nth-child(3){ transform: translateY(-8px) rotate(-45deg); }

/* Drawer */
.drawer { position: fixed; inset: 0; display: none; background: rgba(0,0,0,.35); }
.drawer.open { display: block; animation: fadeIn .2s ease; }
.drawer-panel {
  position: absolute; right: 0; top: 0; bottom: 0;
  width: 86%; max-width: 360px; background: #fff;
  border-top-left-radius: 16px; border-bottom-left-radius: 16px;
  padding: 16px 14px; display: flex; flex-direction: column;
  transform: translateX(8px); animation: slideIn .22s ease forwards;
  box-shadow: -12px 0 28px rgba(0,0,0,.08);
}
.drawer-head { display: flex; align-items: center; gap: 10px; margin: 4px 4px 8px; }
.drawer-link { padding: 12px 10px; border-radius: 12px; color: inherit; }
.drawer-link:hover { background: #e6f3e7; }
.drawer hr { border: none; border-top: 1px solid #eef1ee; margin: 10px 4px; }

@keyframes fadeIn { from{opacity:0} to{opacity:1} }
@keyframes slideIn { from{opacity:.3; transform:translateX(16px)} to{opacity:1; transform:translateX(0)} }

/* ===== Hero (landing) ===== */
.hero { display: grid; grid-template-columns: 1fr; gap: 16px; align-items: center; }
@media (min-width: 760px) { .hero { grid-template-columns: 1.2fr .8fr; } }
.hero-visual { display: flex; justify-content: center; align-items: center; }

/* Simple buddy placeholder */
.buddy { position: relative; width: 220px; height: 220px; }
.buddy .pot  { position:absolute; bottom:0; width:180px; height:70px; background:#8a583a; border-radius:22px; }
.buddy .stem { position:absolute; bottom:72px; left:50%; width:8px; height:60px; background:#2f7d32; border-radius:4px; transform:translateX(-50%); }
.buddy .leaf { position:absolute; bottom:110px; width:90px; height:60px; background:#5fbf5a; border-radius:60px/70px 70px 40px 40px; box-shadow: inset 0 0 0 3px #2f7d32; }
.buddy .leaf.left  { left:30px; transform:rotate(-18deg); }
.buddy .leaf.right { right:30px; transform:rotate(18deg); }

/* ===== Small grids/utils (z tvojich) ===== */
.grid { display: grid; gap: 12px; }
.grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; }
.grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); gap: 12px; }

.stat-wrap { display:grid; grid-template-columns: repeat(4,1fr); gap: 12px; margin-top: 10px; }
.stat { background:#eef6ea; border:1px solid rgba(47,110,61,.12); padding:12px; border-radius:14px; text-align:center; }
.stat b { font-size: 20px; }

/* ===== Plant – efekty (deduplikované) ===== */
.plant-stage { display:grid; place-items:center; margin:14px 0 10px; }
.grow { transition: transform .5s cubic-bezier(.2,.75,.2,1.2); }
.grow.levelup { transform: scale(1.06); }

.plant-wrap { position: relative; border-radius: 24px; padding: 12px; }
.plant-tags { position:absolute; inset:auto 12px 12px auto; display:flex; gap:8px; }
.tag { font-size:.75rem; padding:.2rem .5rem; border-radius:.75rem; background:#0f172a; color:#e2e8f0; opacity:.85; }
.tag.danger { background:#3b0b0b; color:#fecaca; }

.plant-pulse { animation: plantPulse .6s ease; }
@keyframes plantPulse { 0%{transform:scale(1)} 40%{transform:scale(1.02)} 100%{transform:scale(1)} }

.pot-bounce { animation: potBounce .6s ease; transform-origin: 200px 220px; }
@keyframes potBounce { 0%{transform:translateY(0)} 30%{transform:translateY(-6px)} 60%{transform:translateY(2px)} 100%{transform:translateY(0)} }

.leaf-wiggle  { animation: leafWiggle .5s ease; transform-origin: 60px 20px; }
@keyframes leafWiggle { 0%{transform:rotate(0)} 25%{transform:rotate(-6deg)} 50%{transform:rotate(5deg)} 100%{transform:rotate(0)} }

.leaf-pulse   { animation: leafPulse .6s ease; }
@keyframes leafPulse { 0%{filter:none} 50%{filter:brightness(1.2)} 100%{filter:none} }

.leaf-shimmer { animation: leafShimmer 1s ease; }
@keyframes leafShimmer { 0%{filter:brightness(1)} 50%{filter:brightness(1.35)} 100%{filter:brightness(1)} }

/* kvapky / trblietky */
.drops circle { animation: drop .8s ease forwards; }
.drops circle:nth-child(2){ animation-delay:.05s }
.drops circle:nth-child(3){ animation-delay:.1s }
@keyframes drop { 0%{opacity:0; transform:translateY(-10px)} 20%{opacity:1} 100%{opacity:0; transform:translateY(44px)} }

.sparkles path { opacity:0; animation: twinkle .9s ease forwards; }
.sparkles g:nth-child(2) path{ animation-delay:.1s }
.sparkles g:nth-child(3) path{ animation-delay:.2s }
.sparkles g:nth-child(4) path{ animation-delay:.3s }
@keyframes twinkle { 0%{opacity:0; transform:scale(.4)} 50%{opacity:1} 100%{opacity:0; transform:scale(1.7)} }

/* 3D Plant – wrapper + farby */
.plant3d { --tiltX:0deg; --tiltY:0deg; perspective:800px; padding:8px; border-radius:20px; position:relative; }
.plant3d .scene { transform-style: preserve-3d; transition: filter .3s ease; }
.plant3d.night .scene { filter: brightness(.85) saturate(.9); }
.layer { transform: rotateX(var(--tiltX)) rotateY(var(--tiltY)); transform-style: preserve-3d; }
.pot3d { will-change: transform; }
.stem3d { filter: drop-shadow(0 2px 2px rgba(0,0,0,.25)); }
.leaf3d { filter: drop-shadow(0 4px 6px rgba(0,0,0,.25)); }

.plant3d .leaf-fill   { fill: var(--mosi-green-2); }
.plant3d .leaf-stroke { stroke: var(--mosi-green-3); }
.plant3d .stem-fill   { fill: var(--mosi-green); }
.plant3d .pot-fill    { fill: #B5754D; }   /* môžeš neskôr nahradiť gradientom */
.plant3d .soil-fill   { fill: #6B4A2E; }

/* ===== Calendar (zjednotené) ===== */
.cal-toolbar { display:flex; gap:8px; align-items:center; margin:8px 0 14px; }
.cal-month { font-weight:700; font-size:20px; color:var(--mosi-accent); margin-right:auto; }
.cal-grid { display:grid; grid-template-columns: repeat(7,1fr); gap:6px; }
.cal-h { text-align:center; font-weight:600; color:var(--mosi-accent); padding:6px 0; }
.cal-cell {
  background: var(--mosi-surface);
  border:1px solid rgba(47,110,61,.15);
  border-radius:12px; min-height:72px; padding:6px 8px; cursor:pointer;
  transition: transform .06s ease, box-shadow .12s ease;
}
.cal-cell:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(47,110,61,.12); }
.cal-cell.muted { opacity: .55; }
.cal-cell.sel { outline: 2px solid var(--mosi-accent); }
.cal-date { font-weight:600; font-size:13px; }
.cal-dots { display:flex; gap:4px; margin-top:6px; flex-wrap:wrap; }
.dot { width:8px; height:8px; border-radius:50%; background: var(--mosi-green-2); box-shadow: inset 0 0 0 1px var(--mosi-green-3); }
.more { font-size:11px; color:var(--mosi-accent); }

.ev-list { list-style:none; padding:0; margin:0 0 8px; display:flex; flex-direction:column; gap:8px; }
.ev-list li {
  display:flex; justify-content:space-between; gap:8px; align-items:center;
  padding:10px 12px; background:#fff; border-radius:12px;
  border:1px solid rgba(47,110,61,.08);
}
.ev-list li.empty { justify-content:center; color:#667; background:transparent; border:1px dashed rgba(47,110,61,.25); }
.ev-title { font-weight:600; }
.ev-note { font-size:12px; color:#5a6; }
.ev-form { display:flex; gap:8px; flex-wrap:wrap; }
.ev-tag {
  display:inline-flex; align-items:center; justify-content:center;
  width:22px; height:22px; border-radius:6px; color:#0a0; margin-right:8px;
}

/* ===== Before/After slider ===== */
.ba-wrap { position:relative; border-radius:14px; overflow:hidden; background:#0001; }
.ba-img { width:100%; height:100%; object-fit:cover; display:block; }
.ba-after { position:absolute; inset:0 0 0 auto; overflow:hidden; border-right:2px solid rgba(255,255,255,.8); }
.ba-range { position:absolute; left:0; right:0; bottom:8px; width:60%; margin:0 auto; }
.ba-labels { position:absolute; left:12px; right:12px; top:12px; display:flex; justify-content:space-between; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.6); font-weight:700; }

/* ===== Footer ===== */
.site-footer { margin:28px 0; color:#5b6c60; }
.badge { display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
  background:#fff; border-radius:999px; font-weight:700; font-size:12px; color:#2F6E3D; }
.badge .dot { width:8px; height:8px; background:#2F6E3D; border-radius:999px; display:inline-block; }

.flex-center { display:flex; align-items:center; justify-content:center; }
.brand-text { font-weight:800; }

.buddy { position: relative; width: 220px; height: 220px; }
.buddy .pot  { position:absolute; bottom:0; width:180px; height:70px; background:#8a583a; border-radius:22px; }
.buddy .stem { position:absolute; bottom:72px; left:50%; width:8px; height:60px; background:#2f7d32; border-radius:4px; transform:translateX(-50%); }
.buddy .leaf { position:absolute; bottom:110px; width:90px; height:60px; background:#5fbf5a; border-radius:60px/70px 70px 40px 40px; box-shadow: inset 0 0 0 3px #2f7d32; }
.buddy .leaf.left  { left:30px; transform:rotate(-18deg); }
.buddy .leaf.right { right:30px; transform:rotate(18deg); }
/* Diary form – lepšia čitateľnosť */
.ev-form .input { font-size: 16px; }
.diary-grid { display:grid; gap:12px; grid-template-columns: 1fr; }
@media (min-width: 720px){
  .diary-grid { grid-template-columns: 1fr 1fr 1fr; }
}
.input::-webkit-calendar-picker-indicator{ filter: opacity(0.7); }
@keyframes bug {
  0% { transform: translate(0,0); }
  25% { transform: translate(60%,10%); }
  50% { transform: translate(20%,40%); }
  75% { transform: translate(70%,60%); }
  100% { transform: translate(0,0); }
}
/* pohupovanie listov */
.sway { animation: sway 4s ease-in-out infinite; transform-origin: 50% 0%; }
.sway.slow { animation-duration: 6s; }
@keyframes sway {
  0%   { transform: rotate(0deg); }
  25%  { transform: rotate(2.2deg); }
  50%  { transform: rotate(0deg); }
  75%  { transform: rotate(-2.2deg); }
  100% { transform: rotate(0deg); }
}

/* žmurknutie – každých pár sekúnd */
.blink-eye { transform-origin: center; animation: blink 5s linear infinite; }
@keyframes blink {
  0%, 96%, 100% { transform: scaleY(1); }
  97%, 99%      { transform: scaleY(0.1); }
}

/* „rozprávanie“ – krátke otvorenie úst  */
.mouth-talk { animation: talk 0.9s ease-in-out 2; }
@keyframes talk {
  0%,100% { transform: scaleY(1); }
  50%     { transform: scaleY(1.7); }
}
.btn svg { transition: transform .15s ease; }
.btn:hover svg { transform: translateY(-1px) scale(1.04); }
/* --- NIGHT MODE OVERLAY + STARS --- */
.night-overlay {
  position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(80% 60% at 50% 0%, rgba(0,0,0,.25), transparent 60%),
              radial-gradient(120% 80% at 50% 120%, rgba(0,0,0,.35), transparent 70%);
  opacity:0; transition: opacity .4s ease;
}
.night-overlay.on { opacity:1; }

/* hviezdy */
.stars { position:absolute; inset:0; overflow:hidden; opacity:.85; }
.stars i{
  position:absolute; width:2px; height:2px; background:#fff; border-radius:50%;
  animation: twinkle 3.6s infinite ease-in-out;
  opacity:.6;
}
@keyframes twinkle {
  0%,100% { transform: scale(1); opacity:.6; }
  50%     { transform: scale(1.6); opacity:1; }
}

/* jemné „zosivenie“ rastlinky počas spánku */
.asleep { filter: saturate(.75) brightness(.92); }

/* malé Zzz bubliny pri spánku */
.zzz { position:absolute; right:22px; top:6px; font-weight:800; opacity:0; }
.zzz.on { animation: zed 2.6s infinite ease-in-out; opacity:.9; }
@keyframes zed {
  0% { transform: translateY(0) scale(1); opacity:0; }
  10% { opacity:.9; }
  100% { transform: translateY(-18px) scale(1.15); opacity:0; }
}
/* --- Splash (full-screen) --- */
.splash{
  position:fixed; inset:0; display:grid; place-items:center;
  background: radial-gradient(120% 120% at 50% 0%, #f4faee 0%, #eaf6e3 60%, #e4f1df 100%);
  z-index:9999; animation: splashFade 0.5s ease 1.8s forwards;
}
@keyframes splashFade{ to{ opacity:0; visibility:hidden } }

.logo-dot{
  position:absolute; top:24px; left:24px; font-size:22px;
  filter: drop-shadow(0 3px 8px rgba(0,0,0,.12));
  animation: logoPop .6s ease;
}
@keyframes logoPop{ 0%{transform:scale(.7); opacity:0} 100%{transform:scale(1); opacity:1} }

/* SVG text */
.brand-draw{ width:min(92vw, 900px); height:auto; overflow:visible }
.brand-draw text{
  font: 800 110px/1.1 "Fraunces", serif;
  letter-spacing:.5px;
}

/* 1) nakreslenie obrysu */
.brand-draw .stroke{
  fill: none;
  stroke: #2F6E3D;
  stroke-width: 3.5;
  stroke-linecap: round;
  filter: drop-shadow(0 3px 10px rgba(47,110,61,.12));
  stroke-dasharray: 1600;
  stroke-dashoffset: 1600;
  animation: draw 1.2s ease forwards;
}
@keyframes draw{ to{ stroke-dashoffset: 0 } }

/* 2) výplň po dokreslení + jemné “dopadnutie” */
.brand-draw .fill{
  fill: #2F6E3D;
  opacity:0;
  transform-origin: 50% 60%;
  animation:
    fillIn .45s ease forwards 1.1s,
    drop .5s cubic-bezier(.2,.9,.2,1.2) forwards 1.2s;
}
@keyframes fillIn{ to{ opacity:1 } }
@keyframes drop{ 0%{ transform: translateY(-6px) scale(1.02) }
                 100%{ transform: translateY(0) scale(1) } }
